{%extends 'movie/base.html' %} 
{%block title%}{{profile.user.first_name}}'s Profile {%endblock%} 
{% block content %}

<main class='pb-4'>
<div class="w-full text-lg tracking-widest text-center p-4 text-yellow-400">{{profile.user.first_name}}'s Profile</div>
{%if request.user.id == profile.id%}
<section class='flex flex-col ml-4 '>
<div class='flex gap-y-4'>
<div class="flex flex-col gap-y-4 w-[80%]">
<div class="flex flex-col gap-y-5">
<div class='ml-6 text-2xl font-bold p-2 text-white tracking-wider'>Favorites</div>
<div class='flex gap-x-8 flex-wrap justify-center items-center px-8'>
        {%if not favorites%}
    <p>Empty</p>
    {%endif%}
{%for movie in favorites%}

<div class='flex flex-col justify-center items-center py-2'>
<p class='max-w-[200px] truncate text-center text-white py-2' data-tooltip-target="tooltip-default-{{movie.id}}">
    {{movie.movie.title}}</p>
<div id="tooltip-default-{{movie.id}}" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
    {{movie.movie.title}}
    <div class="tooltip-arrow" data-popper-arrow></div>
</div>
<div>        <a href="{%url 'movie-detail' movie.movie.id%}"
          ><img
            src="{{movie.movie.poster_img}}"
            alt="movie-poster"
            class="object-cover h-[240px] min-w-[160px] md:h-[320px] md:min-w-[220px]"
        /></a></div>

</div>
{%endfor%}
<button class='w-max flex justify-center items-center text-center' ><a  href="{%url 'favorite-list' user.id %}" class='h-[40px] p-4 bg-yellow-400  text-gray-800 font-bold rounded-md hover:bg-yellow-200 transition duration-300 flex justify-center items-center'>View All</a></button>
</div>

</div>


<div class="flex flex-col gap-y-5">
<div class='ml-6 text-2xl font-bold p-2 text-white tracking-wider'>Watchlist</div>
<div class='flex gap-x-8 flex-wrap justify-center items-center px-8'>

    {%if not watchlist%}
    <p>Empty</p>
    {%endif%}
{%for movie in watchlist%}

<div class='flex flex-col justify-center items-center py-2'>
<p class='max-w-[200px] truncate text-center text-white py-2' data-tooltip-target="tooltip-default-{{movie.id}}">
    {{movie.movie.title}}</p>
<div id="tooltip-default-{{movie.id}}" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
    {{movie.movie.title}}
    <div class="tooltip-arrow" data-popper-arrow></div>
</div>
<div>        <a href="{%url 'movie-detail' movie.movie.id%}"
          ><img
            src="{{movie.movie.poster_img}}"
            alt="movie-poster"
            class="object-cover h-[240px] min-w-[160px] md:h-[320px] md:min-w-[220px]"
        /></a></div>

</div>
{%endfor%}
<button class='w-max flex justify-center items-center text-center' ><a  href="{%url 'watch-list' user.id%}" class='h-[40px] p-4 bg-yellow-400  text-gray-800 font-bold rounded-md hover:bg-yellow-200 transition duration-300 flex justify-center items-center'>View All</a></button>
</div>


</div>
</div>


<div class="flex flex-col items-center w-[20%] text-white">{%include 'partials/friend-list.html'%}
{%include 'partials/friend-requests.html'%}</div>

</div>

</section>
{%else%}

<section class='flex justify-center items-center flex-col gap-y-5'>

<div>
<div class='text-xl font-bold p-2 text-white'>Top 5 Favorite Movies</div>
<div class='flex gap-x-4 flex-wrap justify-center items-center'>
{%for movie in favorites%}
<div class='flex flex-col justify-center items-center py-2'>
<p class='max-w-[200px] truncate text-center text-white py-2' data-tooltip-target="tooltip-default-{{movie.id}}">
    {{movie.movie.title}}</p>
<div id="tooltip-default-{{movie.id}}" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
    {{movie.movie.title}}
    <div class="tooltip-arrow" data-popper-arrow></div>
</div>
<div>        <a href="{%url 'movie-detail' movie.movie.id%}"
          ><img
            src="{{movie.movie.poster_img}}"
            alt="movie-poster"
            class="object-cover h-[240px] min-w-[160px] md:h-[320px] md:min-w-[220px]"
        /></a></div>

</div>

{%endfor%}
<button class='w-max flex justify-center items-center text-center' ><a  href="{%url 'favorite-list' user.id %}" class='h-[40px] p-4 bg-yellow-400  text-gray-800 font-bold rounded-md hover:bg-yellow-200 transition duration-300 flex justify-center items-center'>View All</a></button>
</div>

<div>
<div class="flex justify-center items-center flex-col gap-y-5 ">
<div class='text-xl font-bold p-2 text-white'>Top 5 Watch List</div>
<div class='flex gap-x-4 flex-wrap justify-center items-center'>

{%for movie in watchlist%}

<div class='flex flex-col justify-center items-center py-2'>
<p class='max-w-[200px] truncate text-center text-white py-2' data-tooltip-target="tooltip-default-{{movie.id}}">
    {{movie.movie.title}}</p>
<div id="tooltip-default-{{movie.id}}" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
    {{movie.movie.title}}
    <div class="tooltip-arrow" data-popper-arrow></div>
</div>
<div>        <a href="{%url 'movie-detail' movie.movie.id%}"
          ><img
            src="{{movie.movie.poster_img}}"
            alt="movie-poster"
            class="object-cover h-[240px] min-w-[160px] md:h-[320px] md:min-w-[220px]"
        /></a></div>

</div>
{%endfor%}
<button class='w-max flex justify-center items-center text-center' ><a  href="{%url 'watch-list' user.id%}" class='h-[40px] p-4 bg-yellow-400  text-gray-800 font-bold rounded-md hover:bg-yellow-200 transition duration-300 flex justify-center items-center'>View All</a></button>
</div>


{%if isFriend %}
<div><a href="{%url 'remove-friend' profile.user.id%}">Remove Friend</a></div>
{%else%}
<div><a href="{%url 'send-friend-request' profile.user.id%}">Send Friend Request</a></div>

{%endif%}

      {% comment %} <section id='messages'>
        {%include 'partials/friends/toast.html'%}
      </section> {% endcomment %}


</section>







{%endif%}
{% endblock content %}



</main>